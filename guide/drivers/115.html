<!DOCTYPE html><html lang="en" data-beasties-container><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg"><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><style type="text/css">:root{color-scheme:light dark;--va-c-bg:#fff}html{background-color:var(--va-c-bg)}</style><script>const locale=localStorage.getItem("valaxy-locale")||"en";document.documentElement.setAttribute("lang",locale)</script><script type="module" async crossorigin src="/OpenList-Docs/assets/app.CfAG1_hk.js"></script><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/framework.Bz32nx7L.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/dayjs.BX5x0S-s.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/nprogress.B1y48mDD.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/vue-router.DIcI-Yny.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/vue-i18n.D51u75hK.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/pinia.Bgqu1Nyu.js"><link rel="stylesheet" crossorigin href="/OpenList-Docs/assets/app.BIKf7fDe.css"><link rel="stylesheet" crossorigin href="/OpenList-Docs/assets/group-icons.u5l6rBQ6.css"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/115.DLjiQz-1.js"><link rel="stylesheet" href="/OpenList-Docs/assets/group-icons.u5l6rBQ6.css"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/ValaxyMain.1L4-PStc.js"><link rel="stylesheet" href="/OpenList-Docs/assets/ValaxyMain.Cny4s0wM.css"><title>115 Cloud / Share - OpenList Docs</title><script id="check-mac-os" async>document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:locale:alternate" content="zh-CN"><meta name="description" content="Docs site for OpenList"><meta property="og:description" content="Docs site for OpenList"><meta property="og:locale" content="en"><meta property="og:site_name" content="OpenList Docs"><meta property="og:title" content="115 Cloud / Share"><meta property="og:image" content="/favicon.svg"><meta property="og:type" content="website"><meta property="og:url" content="https://dezhishen.github.io/"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><meta name="generator" content="Valaxy 0.25.9"><meta name="twitter:card" content="summary_large_image"></head><body><div id="app" data-server-rendered="true"><!--[--><!--[--><!----><!--[--><!--]--><!----><!--]--><div class="layout antialiased" data-v-e8057d2d><nav w="full" class="press-nav relative md:fixed md:z-99 font-bold"><div class="pr-navbar flex justify-between items-center pl-4 pr-2 has-sidebar"><a href="/OpenList-Docs/" class="text-xl flex justify-center items-center font-black gradient-text from-teal-200 to-sky-400 bg-gradient-to-r" aria-label="$locale:siteConfig.title"><img class="logo" src="/OpenList-Docs/logo.svg" alt="LOGO"><span class="inline-flex">OpenList Docs</span></a><div class="self-stretch flex justify-center items-center text-sm leading-5"><div class="VPNavBarSearch" p="x-2"><!----></div><div class="flex lt-md:hidden" h="full" p="x-2"><!--[--><!--[--><a href="/OpenList-Docs/guide" class="router-link-active press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->User Guide<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/configuration" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->Configuration<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/faq" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->FAQ<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/ecosystem" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->Ecosystem<!--]--></a><!--]--><!--[--><div class="flex relative group px-2" h="full" aria-expanded="false" aria-haspopup="true" data-v-b7b2ac8b><button type="button" class="button flex items-center bg-transparent" h="full" data-v-b7b2ac8b><span class="text" data-v-b7b2ac8b>Community</span><div i-ri-arrow-drop-down-line data-v-b7b2ac8b></div></button><div class="menu grow" flex="~ col" items="start" data-v-b7b2ac8b><!--[--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://github.com/OpenListTeam/OpenList/discussions" target="_blank" data-v-8b5a856b><!--[-->Github Discussions<!--]--><!----></a></div><!--]--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://t.me/OpenListTeam" target="_blank" data-v-8b5a856b><!--[-->Telegram<!--]--><!----></a></div><!--]--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://t.me/OpenListOfficial" target="_blank" data-v-8b5a856b><!--[-->Telegram Channel<!--]--><!----></a></div><!--]--><!--]--></div></div><!--]--><!--[--><div class="flex relative group px-2" h="full" aria-expanded="false" aria-haspopup="true" data-v-b7b2ac8b><button type="button" class="button flex items-center bg-transparent" h="full" data-v-b7b2ac8b><span class="text" data-v-b7b2ac8b>v4.1.0</span><div i-ri-arrow-drop-down-line data-v-b7b2ac8b></div></button><div class="menu grow" flex="~ col" items="start" data-v-b7b2ac8b><!--[--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://github.com/OpenListTeam/OpenList/releases" target="_blank" data-v-8b5a856b><!--[-->Release Notes<!--]--><!----></a></div><!--]--><!--]--></div></div><!--]--><!--]--></div><div class="flex items-center lt-lg:hidden" p="x-2"><button title="Change languages"><div i-ri-translate class="rotate-y-180 transition transform"></div></button></div><div class="inline-flex items-center lt-lg:hidden" p="x-2"><button class="switch switch-appearance" type="button" aria-label="Toggle Dark Mode" data-v-a2d66f27><span class="check" data-v-a2d66f27><span class="icon-wrap" data-v-a2d66f27><div class="icon" i-ri-sun-line data-v-a2d66f27></div></span></span></button></div><div class="pr-social-links pr-nav-bar-social-links" p="x-2" data-v-c9cfc92a data-v-326fa6b8><!--[--><a class="pr-social-link" href="https://github.com/OpenListTeam/OpenList" target="_blank" rel="noopener" data-v-326fa6b8 data-v-23187a05><div class="i-ri-github-line" data-v-23187a05></div></a><!--]--></div><button type="button" class="pr-NavBarHamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="pr-NavScreen" data-v-ac56a236><span class="container" data-v-ac56a236><span class="top" data-v-ac56a236></span><span class="middle" data-v-ac56a236></span><span class="bottom" data-v-ac56a236></span></span></button></div></div><!----></nav><div class="press-local-nav" data-v-00f00fd6><button class="menu" aria-expanded="false" aria-controls="pr-sidebar-nav" data-v-00f00fd6><div i-ri-align-left class="menu-icon" data-v-00f00fd6></div><span class="menu-text" data-v-00f00fd6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px" data-v-00f00fd6 data-v-2bc5b49f><button data-v-2bc5b49f>Return to top</button><!----></div></div><!--[--><aside class="press-sidebar shadow-lg"><div text="left" m="2"><!--[--><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">User Guide <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide" class="router-link-active inline-flex items-center"><span class="text ml-1" text="sm">Quick Start</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/migrate" class="inline-flex items-center"><span class="text ml-1" text="sm">Migrate from AList V3</span></a><!--]--></li><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Storage Setup <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Advanced <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Installation <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/download" class="inline-flex items-center"><span class="text ml-1" text="sm">Download</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/script" class="inline-flex items-center"><span class="text ml-1" text="sm">One-click Script</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/manual" class="inline-flex items-center"><span class="text ml-1" text="sm">Manual installation</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/docker" class="inline-flex items-center"><span class="text ml-1" text="sm">Use Docker</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/desktop" class="inline-flex items-center"><span class="text ml-1" text="sm">Desktop</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/paas" class="inline-flex items-center"><span class="text ml-1" text="sm">PaaS</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/source" class="inline-flex items-center"><span class="text ml-1" text="sm">Run from source</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/installation/reverse-proxy" class="inline-flex items-center"><span class="text ml-1" text="sm">Reverse proxy</span></a><!--]--></li><!--]--></ul><!--]--><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Configuration <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/configuration" class="inline-flex items-center"><span class="text ml-1" text="sm">Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/site" class="inline-flex items-center"><span class="text ml-1" text="sm">Site Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/style" class="inline-flex items-center"><span class="text ml-1" text="sm">Style Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/preview" class="inline-flex items-center"><span class="text ml-1" text="sm">Preview Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/global" class="inline-flex items-center"><span class="text ml-1" text="sm">Global Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/other" class="inline-flex items-center"><span class="text ml-1" text="sm">Other Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/side" class="inline-flex items-center"><span class="text ml-1" text="sm">Side Configuration</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">FAQ <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/error" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Error-Code</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/howto" class="inline-flex items-center"><span class="text ml-1" text="sm">How to</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/seealso" class="inline-flex items-center"><span class="text ml-1" text="sm">See also</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/why" class="inline-flex items-center"><span class="text ml-1" text="sm">Why</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">API Documentation <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">admin <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/admin/user" class="inline-flex items-center"><span class="text ml-1" text="sm">user</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/admin/meta" class="inline-flex items-center"><span class="text ml-1" text="sm">meta</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/admin/driver" class="inline-flex items-center"><span class="text ml-1" text="sm">driver</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/admin/storage" class="inline-flex items-center"><span class="text ml-1" text="sm">storage</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/admin/setting" class="inline-flex items-center"><span class="text ml-1" text="sm">setting</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/admin/task" class="inline-flex items-center"><span class="text ml-1" text="sm">task</span></a><!--]--></li><!--]--></ul><!--]--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/apifox" class="inline-flex items-center"><span class="text ml-1" text="sm">online tool</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/auth" class="inline-flex items-center"><span class="text ml-1" text="sm">auth</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/fs" class="inline-flex items-center"><span class="text ml-1" text="sm">todo</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/public" class="inline-flex items-center"><span class="text ml-1" text="sm">public</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/task" class="inline-flex items-center"><span class="text ml-1" text="sm">task</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!----></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Ecosystem <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Ecosystem</span></a><!--]--></li><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Official Ecosystem <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_docs" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Docs</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_desktop" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Desktop</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_APIpage" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList APIPages</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_proxy" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Proxy</span></a><!--]--></li><!--]--></ul><!--]--><!--]--></ul><!--]--></ul><!--]--></div></aside><!--]--><!----><!--[--><main class="press-main flex has-sidebar" data-v-e8057d2d data-v-b457700c><div w="full" flex="~" class="px-6 md:pl-12 has-aside relative" p="t-4" data-v-b457700c><div class="container" flex="~ grow" justify="between" data-v-b457700c><!--[--><div w="full" class="vp-doc content" flex="~ col grow" p="lt-md:0" data-v-b457700c><!--[--><!--]--><!--[--><!--]--><!--[--><!--[--><!--]--><article class="markdown-body mx-auto w-full max-w-4xl" data-v-b457700c><!--[--><h1 id="115 Cloud / Share" tabindex="-1" data-v-b457700c>115 Cloud / Share <a class="header-anchor" href="#115 Cloud / Share" aria-hidden="true" data-v-b457700c></a></h1><!--[--><div lang="en"><div class="danger custom-block"><p class="custom-block-title"><i class="icon i-carbon-warning"></i>Please read the following notes carefully</p><p>This interface is a reverse-engineered interface based on legacy products. The project team will not actively maintain it. Please do not submit any issues regarding fixes or further reverse engineering requests for this driver.</p></div></div><div lang="zh-CN"><div class="danger custom-block"><p class="custom-block-title"><i class="icon i-carbon-warning"></i>请仔细阅读注意事项</p><p>本接口是基于历史产物的逆向接口，项目组不会主动进行维护，请勿针对此驱动提出有关于任何修复或进行进一步逆向行为需求的issue。</p></div></div><div lang="zh-CN"><div class="tip custom-block"><p class="custom-block-title custom-block-title-default"><i class="icon i-carbon-thumbs-up"></i>TIP</p><p><a href="./115_open"><strong>115 官方 Open API</strong></a></p></div></div><div lang="en"><div class="tip custom-block"><p class="custom-block-title custom-block-title-default"><i class="icon i-carbon-thumbs-up"></i>TIP</p><p><a href="./115_open"><strong>115 Official Open API</strong></a></p></div></div><h2 lang="en" id="_115-cloud" tabindex="-1">115 Cloud <a class="header-anchor" href="#_115-cloud" aria-label="Permalink to &quot;115 Cloud { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="_115-个人网盘" tabindex="-1">115 个人网盘 <a class="header-anchor" href="#_115-个人网盘" aria-label="Permalink to &quot;115 个人网盘 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><h3 lang="zh-CN" id="视频教程-优先选择文字教程" tabindex="-1">视频教程(优先选择文字教程) <a class="header-anchor" href="#视频教程-优先选择文字教程" aria-label="Permalink to &quot;视频教程(优先选择文字教程) { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><div lang="zh-CN"><p>视频教程有可能因为时间关系导致部分视频内功能不可用或产生变化</p><p>所以推荐优先选择文字教程，当然如果你看不懂文字教程或者嫌麻烦也可以观看视频教程</p><p>视频发布时间：2025-07-18</p><p><a href="https://www.bilibili.com/video/BV1i3gTzsEma" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1i3gTzsEma</a></p></div><h3 lang="en" id="root-folder-id" tabindex="-1">Root folder ID <a class="header-anchor" href="#root-folder-id" aria-label="Permalink to &quot;Root folder ID { lang=&quot;en&quot; }&quot;">​</a></h3><h3 lang="zh-CN" id="根文件夹-id" tabindex="-1">根文件夹 ID <a class="header-anchor" href="#根文件夹-id" aria-label="Permalink to &quot;根文件夹 ID { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><div lang="en"><p>Open the official website of 115 Cloud and click the string behind the url when you click into the folder you want to set, such as <a href="https://115.com/?cid=249163533602609229&amp;offset=0&amp;tab=&amp;mode=wangpan" target="_blank" rel="noreferrer">https://115.com/?cid=249163533602609229&amp;offset=0&amp;tab=&amp;mode=wangpan</a>, which is <code>249163533602609229</code></p></div><div lang="zh-CN"><p>打开 115 网盘官网，点击进入要设置的文件夹时点击 URL 中 <code>cid</code>后面的数字</p><p>如 <a href="https://115.com/?cid=249163533602609229&amp;offset=0&amp;tab=&amp;mode=wangpan" target="_blank" rel="noreferrer">https://115.com/?cid=249163533602609229&amp;offset=0&amp;tab=&amp;mode=wangpan</a></p><p>这个文件夹的 <code>根文件夹ID</code> 即为 <code>249163533602609229</code></p></div><h3 lang="zh-CN" id="cookie获取方式" tabindex="-1">Cookie获取方式 <a class="header-anchor" href="#cookie获取方式" aria-label="Permalink to &quot;Cookie获取方式 { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><h3 lang="en" id="cookie-acquisition-method" tabindex="-1">Cookie acquisition method <a class="header-anchor" href="#cookie-acquisition-method" aria-label="Permalink to &quot;Cookie acquisition method { lang=&quot;en&quot; }&quot;">​</a></h3><div lang="en"><p>The following message is displayed when mounting a 115 cloud. This is because 115 has removed the three client applications of <code>Windows, Mac, and Linux</code>.</p><div class="language-json"><button title="Copy code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "state"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "error"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"登录失败，系统已下架！如果你有电脑端的使用需求，我们诚挚邀请你下载体验115产品专属客户端“115浏览器”或在线使用“115网页端(115.com)”，畅享智能高效云生活。"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "errno"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "message"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"登录失败，系统已下架！如果你有电脑端的使用需求，我们诚挚邀请你下载体验115产品专属客户端“115浏览器”或在线使用“115网页端(115.com)”，畅享智能高效云生活。"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "code"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre><button class="collapse"></button></div><p>The cookies you have obtained from these three devices cannot be used. Please obtain the cookies from other devices again to mount them.</p></div><div lang="zh-CN"><p>挂载115云盘提示如下信息，是因为 115已经下架了 <code>Windows、Mac、Linux</code> 这三个客户端的应用</p><div class="language-json"><button title="Copy code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "state"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "error"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"登录失败，系统已下架！如果你有电脑端的使用需求，我们诚挚邀请你下载体验115产品专属客户端“115浏览器”或在线使用“115网页端(115.com)”，畅享智能高效云生活。"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "errno"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "message"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"登录失败，系统已下架！如果你有电脑端的使用需求，我们诚挚邀请你下载体验115产品专属客户端“115浏览器”或在线使用“115网页端(115.com)”，畅享智能高效云生活。"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "code"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre><button class="collapse"></button></div><p>你获取的是这三个设备的Cookie自然就无法使用，请重新获取其它设备的Cookie进行挂载</p></div><h4 lang="en" id="_1-qrcode-scanning-method-login" tabindex="-1">1. QRCode scanning method login <a class="header-anchor" href="#_1-qrcode-scanning-method-login" aria-label="Permalink to &quot;1. QRCode scanning method login { lang=&quot;en&quot; }&quot;">​</a></h4><h4 lang="zh-CN" id="_1-qrcode-扫码方式登录" tabindex="-1">1. QRCode 扫码方式登录 <a class="header-anchor" href="#_1-qrcode-扫码方式登录" aria-label="Permalink to &quot;1. QRCode 扫码方式登录 { lang=&quot;zh-CN&quot; }&quot;">​</a></h4><div lang="en"><div class="tip custom-block"><p class="custom-block-title custom-block-title-default"><i class="icon i-carbon-thumbs-up"></i>TIP</p><p>Still under active development, please stay tuned!</p></div></div><div lang="zh-CN"><div class="tip custom-block"><p class="custom-block-title custom-block-title-default"><i class="icon i-carbon-thumbs-up"></i>TIP</p><p>开发中, 教程暂未更新, 敬请期待!</p></div></div><h4 lang="zh-CN" id="_2-手动抓取-cookie-方式登录" tabindex="-1">2. 手动抓取 Cookie 方式登录 <a class="header-anchor" href="#_2-手动抓取-cookie-方式登录" aria-label="Permalink to &quot;2. 手动抓取 Cookie 方式登录 { lang=&quot;zh-CN&quot; }&quot;">​</a></h4><h4 lang="en" id="_2-log-in-by-manually-grabbing-cookies" tabindex="-1">2. Log in by manually grabbing Cookies <a class="header-anchor" href="#_2-log-in-by-manually-grabbing-cookies" aria-label="Permalink to &quot;2. Log in by manually grabbing Cookies { lang=&quot;en&quot; }&quot;">​</a></h4><div lang="en"><p>The <code>cookie</code> can be obtained from the browser with your 115 account logined, or packet capture.</p></div><div lang="en"><div class="tip custom-block"><p class="custom-block-title custom-block-title-default"><i class="icon i-carbon-thumbs-up"></i>TIP</p><p>Please note that cookies should not end with <code>;</code>.</p></div></div><div lang="zh-CN"><p>Cookie 可以在浏览器登录账号时从浏览器获取，如 Chrome 浏览器可以使用 <a href="https://github.com/yenkn/115-to-alist" target="_blank" rel="noreferrer">115ToAlist插件</a> 自动同步 Cookie：</p><figure><img src="https://github.com/yenkn/115-to-alist/raw/main/docs/tutorial.png" alt="115ToAlist tutorial" loading="lazy" decoding="async"></figure><p>也可通过抓包 115 应用获取，有效期比较长。</p></div><div lang="zh-CN"><div class="tip custom-block"><p class="custom-block-title custom-block-title-default"><i class="icon i-carbon-thumbs-up"></i>TIP</p><p>注意 Cookie 最后不要有<code>;</code>。</p></div></div><br><h4 lang="zh-CN" id="_3-使用-python-脚本获取-cookie" tabindex="-1">3. 使用 Python 脚本获取 Cookie <a class="header-anchor" href="#_3-使用-python-脚本获取-cookie" aria-label="Permalink to &quot;3. 使用 Python 脚本获取 Cookie { lang=&quot;zh-CN&quot; }&quot;">​</a></h4><h4 lang="en" id="_3-get-cookies-using-python-script" tabindex="-1">3. Get Cookies Using Python Script <a class="header-anchor" href="#_3-get-cookies-using-python-script" aria-label="Permalink to &quot;3. Get Cookies Using Python Script { lang=&quot;en&quot; }&quot;">​</a></h4><div lang="en"><p>Expand the detailed description to view the tutorial and script source code</p><p>Source code from：<a href="https://gist.github.com/ChenyangGao/d26a592a0aeb13465511c885d5c7ad61" target="_blank" rel="noreferrer"><strong>https://gist.github.com/ChenyangGao/d26a592a0aeb13465511c885d5c7ad61</strong></a></p></div><div lang="zh-CN"><p>展开详细说明进行查看教程和脚本源码</p><p>源码来自：<a href="https://gist.github.com/ChenyangGao/d26a592a0aeb13465511c885d5c7ad61" target="_blank" rel="noreferrer"><strong>https://gist.github.com/ChenyangGao/d26a592a0aeb13465511c885d5c7ad61</strong></a></p></div><details class="details custom-block"><summary>View source</summary><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">#!/usr/bin/env python3</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"扫码获取 115 cookie"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">__author__ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "ChenyangGao &lt;https://chenyanggao.github.io&gt;"</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">__version__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">__all__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    "AppEnum"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"get_qrcode_token"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"get_qrcode_status"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"post_qrcode_result"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    "get_qrcode"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"login_with_qrcode"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> __name__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "__main__"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> argparse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ArgumentParser, RawTextHelpFormatter</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    parser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ArgumentParser(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"""</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">扫码获取 115 cookie</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">默认在命令行输出，需要安装 qrcode: pip install qrcode</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    - https://pypi.org/project/qrcode/</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">可以指定 -o 或 --open-qrcode 直接打开图片扫码</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"""</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">formatter_class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">RawTextHelpFormatter)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    parser.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"app"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">nargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"?"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">choices</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"web"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"android"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"ios"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"linux"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"mac"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"windows"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"tv"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"alipaymini"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"wechatmini"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"qandroid"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">), </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"web"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">help</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"选择一个 app 进行登录，注意：这会把已经登录的相同 app 踢下线"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    parser.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"-o"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"--open-qrcode"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"store_true"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">help</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"打开二维码图片，而不是在命令行输出"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    parser.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"-v"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"--version"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"store_true"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">help</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"输出版本号"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    args </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> parser.parse_args()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> args.version:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"."</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.join(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">__version__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> SystemExit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> enum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Enum</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> json </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> loads</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> urllib.parse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> urlencode</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> urllib.request </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> urlopen, Request</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">AppEnum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Enum(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"AppEnum"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"web, android, ios, linux, mac, windows, tv, alipaymini, wechatmini, qandroid"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> get_enum_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(val, cls):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(val, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">cls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> val.name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(val, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> cls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[val].name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> KeyError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        pass</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> cls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(val).name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> get_qrcode_token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">():</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """获取登录二维码，扫码可用</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    GET https://qrcodeapi.115.com/api/1.0/web/1.0/token/</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :return: dict</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "https://qrcodeapi.115.com/api/1.0/web/1.0/token/"</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> loads(urlopen(api).read())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> get_qrcode_status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(payload):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """获取二维码的状态（未扫描、已扫描、已登录、已取消、已过期等）</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    GET https://qrcodeapi.115.com/get/status/</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :param payload: 请求的查询参数，取自 `login_qrcode_token` 接口响应，有 3 个</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        - uid:  str</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        - time: int</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        - sign: str</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :return: dict</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "https://qrcodeapi.115.com/get/status/?"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> urlencode(payload)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> loads(urlopen(api).read())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> post_qrcode_result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(uid, app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"web"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """获取扫码登录的结果，并且绑定设备，包含 cookie</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    POST https://passportapi.115.com/app/1.0/{app}/1.0/login/qrcode/</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :param uid: 二维码的 uid，取自 `login_qrcode_token` 接口响应</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :param app: 扫码绑定的设备，可以是 int、str 或者 AppEnum</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        app 目前发现的可用值：</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 1,  "web",        AppEnum.web</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 2,  "android",    AppEnum.android</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 3,  "ios",        AppEnum.ios</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 4,  "linux",      AppEnum.linux</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 5,  "mac",        AppEnum.mac</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 6,  "windows",    AppEnum.windows</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 7,  "tv",         AppEnum.tv</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 8,  "alipaymini", AppEnum.alipaymini</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 9,  "wechatmini", AppEnum.wechatmini</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 10, "qandroid",   AppEnum.qandroid</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :return: dict，包含 cookie</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    app </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> get_enum_name(app, AppEnum)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    payload </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"app"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: app, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"account"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: uid}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "https://passportapi.115.com/app/1.0/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">/1.0/login/qrcode/"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> loads(urlopen(Request(api, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">urlencode(payload).encode(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"utf-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">), </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">method</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"POST"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)).read())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> get_qrcode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(uid):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """获取二维码图片（注意不是链接）</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :return: 一个文件对象，可以读取</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "https://qrcodeapi.115.com/api/1.0/mac/1.0/qrcode?uid=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> uid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> urlopen(url)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> login_with_qrcode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"web"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, scan_in_console</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """用二维码登录</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :param app: 扫码绑定的设备，可以是 int、str 或者 AppEnum</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        app 目前发现的可用值：</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 1,  "web",        AppEnum.web</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 2,  "android",    AppEnum.android</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 3,  "ios",        AppEnum.ios</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 4,  "linux",      AppEnum.linux</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 5,  "mac",        AppEnum.mac</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 6,  "windows",    AppEnum.windows</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 7,  "tv",         AppEnum.tv</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 8,  "alipaymini", AppEnum.alipaymini</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 9,  "wechatmini", AppEnum.wechatmini</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">            - 10, "qandroid",   AppEnum.qandroid</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    :return: dict，扫码登录结果</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">    """</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    qrcode_token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> get_qrcode_token()[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"data"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    qrcode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> qrcode_token.pop(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"qrcode"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan_in_console:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> qrcode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> QRCode</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> ModuleNotFoundError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> sys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> executable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> subprocess </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> run</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            run([executable, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"-m"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"pip"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"install"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"qrcode"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">check</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> qrcode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> QRCode </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"># type: ignore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        qr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> QRCode(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">border</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        qr.add_data(qrcode)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        qr.print_ascii(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">tty</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> atexit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> register</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> os </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> remove</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> threading </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Thread</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> tempfile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> NamedTemporaryFile</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        qrcode_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> get_qrcode(qrcode_token[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"uid"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> NamedTemporaryFile(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">suffix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".png"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">delete</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> f:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            f.write(qrcode_image.read())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            f.flush()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        register(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: remove(f.name))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> open_qrcode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            platform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> __import__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"platform"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">).system()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> platform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "Windows"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">                from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> os </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> startfile </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"># type: ignore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                startfile(f.name)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> platform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "Darwin"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">                from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> subprocess </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> run</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                run([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"open"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, f.name])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">                from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> subprocess </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> run</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                run([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"xdg-open"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, f.name])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        Thread(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">open_qrcode).start()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    while</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> get_qrcode_status(qrcode_token)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> TimeoutError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            continue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> resp[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"data"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">].get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"status"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"[status=0] qrcode: waiting"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"[status=1] qrcode: scanned"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"[status=2] qrcode: signed in"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            break</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> OSError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"[status=-1] qrcode: expired"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> OSError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"[status=-2] qrcode: canceled"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> OSError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"qrcode: aborted with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">%r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> resp)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> post_qrcode_result(qrcode_token[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"uid"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">], app)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> __name__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "__main__"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> login_with_qrcode(args.app, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">scan_in_console</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> args.open_qrcode)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"; "</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.join(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> resp[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'data'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'cookie'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">].items()))</span></span></code></pre><button class="collapse"></button></div></details><div lang="en"><ol><li>You need to install <a href="https://www.python.org/downloads/" target="_blank" rel="noreferrer"><strong>Python 3.11.x</strong></a> or above</li><li>If the QR code cannot be displayed properly in the <code>CMD</code> and <code>powershell</code> terminals, you can use the <code>-o</code> parameter to generate an image to scan the code, or you need to install an additional terminal<ol><li>Use the <code>-o</code> parameter to generate the image method and scan the QR code to confirm<ul><li><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">     python main.py wechatmini </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">o</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">     ```</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">The devices that can be obtained are </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> follows. If you do </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> fill </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> the device, the default device on the </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`Web`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> side will be used</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`Web`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`android`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`ios`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">~~</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`linux`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`mac`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`windows`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">~~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`tv`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`alipaymini`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`wechatmini`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`qandroid`</span></span></code></pre><button class="collapse"></button></div></li></ul></li></ol><ul><li><code>alipaymini</code> and <code>wechatmini</code> They are Alipay Mini Program and WeChat Mini Program.</li><li><strong>Windows、Mac、Linux should not be able to use it anymore. The official client was recently removed from the shelves.</strong></li><li>It is recommended to use some devices that you do not commonly use, otherwise logging in will crowd out the previous ones.</li></ul><hr><ol start="2"><li>Additional installation terminal<ul><li>Windows Store：<strong><a href="https://apps.microsoft.com/detail/9n0dx20hk701?rtc=1&amp;hl=zh-cn&amp;gl=CN" target="_blank" rel="noreferrer">https://apps.microsoft.com/detail/9n0dx20hk701?rtc=1&amp;hl=zh-cn&amp;gl=CN</a></strong></li><li>GitHub Download：<strong><a href="https://github.com/microsoft/terminal/releases" target="_blank" rel="noreferrer">https://github.com/microsoft/terminal/releases</a></strong></li></ul></li><li>Other ways, solve it yourself</li></ol></li></ol><hr><p>Execute the command and obtain the QR code. Scan the QR code on the APP to obtain <code>Cookie</code></p><div lang="zh-CN"><ol><li>需要安装 <a href="https://www.python.org/downloads/" target="_blank" rel="noreferrer"><strong>Python 3.11.x</strong></a> 以上版本</li><li>如果二维码在 <code>CMD</code> 和 <code>powershell</code> 两个终端无法显示正常，可以使用<code>-o</code>参数生成图片的方式来扫码，或者需要额外安装一个终端<ol><li>使用 <code>-o</code> 参数，生成图片方式然后扫码确认<ul><li><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">     python main.py wechatmini </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">o</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">     ```</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">可以获取的设备有如下，如果不填写设备默认使用的是 </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`Web`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> 端的设备</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`Web`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`android`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`ios`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">~~</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`linux`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`mac`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`windows`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">~~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`tv`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`alipaymini`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`wechatmini`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">，</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">`qandroid`</span></span></code></pre><button class="collapse"></button></div></li></ul></li></ol><ul><li><code>alipaymini</code> 和 <code>wechatmini</code> 分别是支付宝小程序和微信小程序</li><li><strong>Windows、Mac、Linux 应该不能使用了，最近官方把客户端下架了</strong></li><li>建议使用一些自己不常用的设备，否则登录会将之前的挤掉</li></ul><hr><ol start="2"><li>另外安装终端<ul><li>Windows Store：<strong><a href="https://apps.microsoft.com/detail/9n0dx20hk701?rtc=1&amp;hl=zh-cn&amp;gl=CN" target="_blank" rel="noreferrer">https://apps.microsoft.com/detail/9n0dx20hk701?rtc=1&amp;hl=zh-cn&amp;gl=CN</a></strong></li><li>GitHub 下载：<strong><a href="https://github.com/microsoft/terminal/releases" target="_blank" rel="noreferrer">https://github.com/microsoft/terminal/releases</a></strong></li></ul></li><li>其它方式自行解决</li></ol></li></ol><hr><p>执行命令，获取二维码 APP扫码获取 <code>Cookie</code></p></div></div><h5 lang="en" id="_3-1-direct-execution" tabindex="-1">3.1. Direct Execution <a class="header-anchor" href="#_3-1-direct-execution" aria-label="Permalink to &quot;3.1. Direct Execution { lang=&quot;en&quot; }&quot;">​</a></h5><h5 lang="zh-CN" id="_3-1-直接执行" tabindex="-1">3.1.直接执行 <a class="header-anchor" href="#_3-1-直接执行" aria-label="Permalink to &quot;3.1.直接执行 { lang=&quot;zh-CN&quot; }&quot;">​</a></h5><div class="language-shell"><button title="Copy code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">PS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">33</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">esktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">5&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> --version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 3.12.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">PS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">33</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">esktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">5&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> main.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> wechatmini</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█▀▀▀▀▀▀▀█▀▀▀▀█▀███▀▀▀█▀█▀▀▀██▀█▀▀▀▀▀▀▀█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▀▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▄▀█▄▀▀█▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  ▄█▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▀▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">   █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  ▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▄▀█▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">   █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▄▀█▀█▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█▀██▀▀▀▀▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀██▀█▀▀▀█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">██▄▀▀▄▀▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄██▀▄██▀██▄█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀▄▄▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">   ▀██▀████</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▄▄▀▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▄▀▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▀█▄▀█▀▀██</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀███▀██▀▄▀▀▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">   █</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">██▄█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▀█▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">   ▀█▄▀▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  ▄▀█▀█▀█▀█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">███▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  █▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀▀█▀█▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  ██▄█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▀▀█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▄▀▄▄▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▄▄▀█▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▄█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  ▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀█▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">   █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▄▀▀█▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄█▀▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀█</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">█</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▀▀▀▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">  █▄▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄█▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █▄▀▀█▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▀▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ▄▄</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> █</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀</span></span></code></pre><button class="collapse"></button></div><div lang="en"><p>Execute the command directly. The QR code will appear in the terminal for display.</p></div><div lang="zh-CN"><p>直接执行 二维码会出现在终端中进行显示</p></div><h5 lang="en" id="_3-2-using-the-o-parameter" tabindex="-1">3.2. Using the -o parameter <a class="header-anchor" href="#_3-2-using-the-o-parameter" aria-label="Permalink to &quot;3.2. Using the -o parameter { lang=&quot;en&quot; }&quot;">​</a></h5><h5 lang="zh-CN" id="_3-2-使用-o参数" tabindex="-1">3.2. 使用-o参数 <a class="header-anchor" href="#_3-2-使用-o参数" aria-label="Permalink to &quot;3.2. 使用-o参数 { lang=&quot;zh-CN&quot; }&quot;">​</a></h5><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">PS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">33</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">esktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">5&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> --version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 3.12.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">PS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">33</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">esktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">5&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> main.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> wechatmini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> -o</span></span></code></pre><button class="collapse"></button></div><div lang="en"><p>After using the <code>-o</code> parameter, a QR code image will pop up automatically</p></div><div lang="zh-CN"><p>使用 <code>-o</code> 参数后会自动弹出一张二维码图片</p></div><h3 lang="zh-CN" id="秒传" tabindex="-1">秒传 <a class="header-anchor" href="#秒传" aria-label="Permalink to &quot;秒传 { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><h3 lang="en" id="rapid-upload" tabindex="-1">Rapid upload <a class="header-anchor" href="#rapid-upload" aria-label="Permalink to &quot;Rapid upload { lang=&quot;en&quot; }&quot;">​</a></h3><div lang="en"><ul><li><strong>v.3.27.0</strong> version Enhanced Rapid upload: You can directly upload files with <code>Alibaba Cloud Disk Open</code> by copying<ul><li>The premise is to upload the file from 115 Rapid upload to Alibaba Cloud Disk Open, the file already exists in Alibaba Cloud Disk Open, otherwise it is a normal copy task.</li><li>If you want to transfer 115 cloud disk files to Alibaba Cloud Disk in seconds, you need to turn on the Rapid upload option of Alibaba Cloud Disk, otherwise it will be uploaded in normal mode. If you want to upload files using Miaochuan, it is recommended to build an OpenList locally on your home computer and add a <code>local storage</code> and <code>115 cloud disk</code> to copy Miaochuan to save resources.<br></li></ul></li></ul></div><div lang="zh-CN"><ul><li><strong>v.3.27.0</strong> 版本 增强秒传：可以直接通过复制方式来和<code>阿里云盘Open</code>进行相互秒传文件<ul><li>前提是要从115秒传到阿里云盘Open的文件，阿里云盘Open已经存在，否则就是正常复制任务。</li><li>如果将115的文件秒传到阿里云盘，需要将阿里云盘的秒传选项打开否则为正常模式上传 如果要使用秒传来上传文件建议在自己家用电脑本地搭建一个OpenList添加一个<code>本地存储</code>和<code>115云盘</code>进行复制秒传这样节省资源。<br></li></ul></li></ul></div><h3 lang="zh-CN" id="离线下载" tabindex="-1">离线下载 <a class="header-anchor" href="#离线下载" aria-label="Permalink to &quot;离线下载 { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><h3 lang="en" id="offline-download" tabindex="-1">Offline Download <a class="header-anchor" href="#offline-download" aria-label="Permalink to &quot;Offline Download { lang=&quot;en&quot; }&quot;">​</a></h3><div lang="en"><p><strong>v3.37.0</strong> and above versions support calling <code>115 Cloud</code> offline download function in OpenList Select <span style="color:#1890ff"><svg fill="none" stroke-width="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="toolbar-toggle hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css" height="1em" width="1em" style="overflow:visible"><path fill="currentColor" d="M7 14a2 2 0 100-4 2 2 0 000 4zM14 12a2 2 0 11-4 0 2 2 0 014 0zM17 14a2 2 0 100-4 2 2 0 000 4z"/><path fill="currentColor" fill-rule="evenodd" d="M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12zm-2 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z" clip-rule="evenodd"/></svg></span><span style="color:#1890ff"><svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-iipViGO-css" tips="offline_download" height="1em" width="1em" style="overflow:visible"><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M421.83 293.82A144 144 0 00218.18 90.17M353.94 225.94a48 48 0 00-67.88-67.88"/><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M192 464v-48M90.18 421.82l33.94-33.94M48 320h48"/><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M286.06 158.06L172.92 271.19a32 32 0 01-45.25 0L105 248.57a32 32 0 010-45.26L218.18 90.17M421.83 293.82L308.69 407a32 32 0 01-45.26 0l-22.62-22.63a32 32 0 010-45.26l113.13-113.17M139.6 169.98l67.88 67.89M275.36 305.75l67.89 67.88"/></svg></span>in the lower right corner and select <code>115 Cloud</code> for offline download options</p><ul><li>Support: <code>magne</code>, <code>http</code>, <code>ed2k</code> links Only 115 Cloud is supported for offline download. If it is not 115 Cloud, the following error message will be displayed, Although the offline download prompt was successfully added, an error will be prompted in the background.</li><li>unsupported storage driver for offline download, only 115 Cloud is supported <img src="/OpenList-Docs/img/drivers/offline_download_error.png" alt></li><li>Some tips for using 115 offline downloads:<ol><li>Out of sync problems may occur (manual refresh in the lower right corner <span style="color:#1890ff"><svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css" tips="refresh" height="1em" width="1em" style="overflow:visible"><path fill="none" d="M0 0h24v24H0z"/><path d="M5.463 4.433A9.961 9.961 0 0112 2c5.523 0 10 4.477 10 10 0 2.136-.67 4.116-1.81 5.74L17 12h3A8 8 0 006.46 6.228l-.997-1.795zm13.074 15.134A9.961 9.961 0 0112 22C6.477 22 2 17.523 2 12c0-2.136.67-4.116 1.81-5.74L7 12H4a8 8 0 0013.54 5.772l.997 1.795z"/></svg></span>)</li><li>Currently, when the download is successful, completed tasks in the offline list are deleted.</li><li>115 Task URLs that are already in the offline list cannot be added again.<br></li></ol></li></ul></div><div lang="zh-CN"><p><strong>v3.37.0</strong> 及以上版本支持在OpenList调用115离线下载功能 右下角选择 <span style="color:#1890ff"><svg fill="none" stroke-width="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="toolbar-toggle hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css" height="1em" width="1em" style="overflow:visible"><path fill="currentColor" d="M7 14a2 2 0 100-4 2 2 0 000 4zM14 12a2 2 0 11-4 0 2 2 0 014 0zM17 14a2 2 0 100-4 2 2 0 000 4z"/><path fill="currentColor" fill-rule="evenodd" d="M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12zm-2 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z" clip-rule="evenodd"/></svg></span><span style="color:#1890ff"><svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-iipViGO-css" tips="offline_download" height="1em" width="1em" style="overflow:visible"><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M421.83 293.82A144 144 0 00218.18 90.17M353.94 225.94a48 48 0 00-67.88-67.88"/><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M192 464v-48M90.18 421.82l33.94-33.94M48 320h48"/><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M286.06 158.06L172.92 271.19a32 32 0 01-45.25 0L105 248.57a32 32 0 010-45.26L218.18 90.17M421.83 293.82L308.69 407a32 32 0 01-45.26 0l-22.62-22.63a32 32 0 010-45.26l113.13-113.17M139.6 169.98l67.88 67.89M275.36 305.75l67.89 67.88"/></svg></span>离线下载选项选择<code>115 Cloud</code></p><ul><li>支持：<code>magnet</code>、<code>http</code>、 <code>ed2k</code> 链接 仅支持使用115个人云盘使用离线下载，非115个人云盘会提示如下错误，<strong>虽然添加离线下载提示成功但是在后台会提示错误</strong></li><li>unsupported storage driver for offline download, only 115 Cloud is supported <img src="/OpenList-Docs/img/drivers/offline_download_error.png" alt></li><li>使用115离线下载的一些提示<ol><li>可能会发生不同步的问题（手动右下角刷新 <span style="color:#1890ff"><svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css" tips="refresh" height="1em" width="1em" style="overflow:visible"><path fill="none" d="M0 0h24v24H0z"/><path d="M5.463 4.433A9.961 9.961 0 0112 2c5.523 0 10 4.477 10 10 0 2.136-.67 4.116-1.81 5.74L17 12h3A8 8 0 006.46 6.228l-.997-1.795zm13.074 15.134A9.961 9.961 0 0112 22C6.477 22 2 17.523 2 12c0-2.136.67-4.116 1.81-5.74L7 12H4a8 8 0 0013.54 5.772l.997 1.795z"/></svg></span>）</li><li>目前当下载成功后，删除离线列表中完成的任务</li><li>115已经在离线列表中的任务url不能再次添加<br></li></ol></li></ul></div><h3 lang="zh-CN" id="默认使用的下载方式" tabindex="-1">默认使用的下载方式 <a class="header-anchor" href="#默认使用的下载方式" aria-label="Permalink to &quot;默认使用的下载方式 { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><h3 lang="en" id="the-default-download-method-used" tabindex="-1">The default download method used <a class="header-anchor" href="#the-default-download-method-used" aria-label="Permalink to &quot;The default download method used { lang=&quot;en&quot; }&quot;">​</a></h3><div lang="en"><div class="mermaid"></div></div><div lang="zh-CN"><div class="mermaid"></div></div><h2 lang="en" id="_115-share" tabindex="-1">115 Share <a class="header-anchor" href="#_115-share" aria-label="Permalink to &quot;115 Share { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="_115网盘分享" tabindex="-1">115网盘分享 <a class="header-anchor" href="#_115网盘分享" aria-label="Permalink to &quot;115网盘分享 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="zh-CN"><figure><img src="/OpenList-Docs/img/drivers/115/115-url_demo.png" alt="url_demo" loading="lazy" decoding="async"></figure><p><code>分享链接ID</code>^1^ 和 <code>分享链接提取码</code>^2^ 分别如何获取一目了然</p></div><div lang="en"><figure><img src="/OpenList-Docs/img/drivers/115/115-url_demo.png" alt="url_demo" loading="lazy" decoding="async"></figure><p><code>Sharing link ID</code>^1^ and <code>Sharing link extraction code</code>^2^ How to obtain them respectively is clear at a glance.</p></div><h3 lang="en" id="root-folder-id-1" tabindex="-1">Root folder ID <a class="header-anchor" href="#root-folder-id-1" aria-label="Permalink to &quot;Root folder ID { lang=&quot;en&quot; }&quot;">​</a></h3><h3 lang="zh-CN" id="根文件夹id" tabindex="-1">根文件夹ID <a class="header-anchor" href="#根文件夹id" aria-label="Permalink to &quot;根文件夹ID { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><div lang="en"><p>The default is empty and the entire directory file is mounted.</p><p>The folder IDs are the root folder ID and the subfolder ID respectively. The following demonstrates how to obtain the <code>shared root folder directory ID</code>^1^ and <code>other subfolder directory ID</code>^2^ respectively.</p></div><h4 lang="en" id="_1-shared-root-folder-directory-id" tabindex="-1">1. shared root folder directory ID <a class="header-anchor" href="#_1-shared-root-folder-directory-id" aria-label="Permalink to &quot;1. shared root folder directory ID { lang=&quot;en&quot; }&quot;">​</a></h4><h4 lang="zh-CN" id="_1-分享根文件夹目录id" tabindex="-1">1. 分享根文件夹目录ID <a class="header-anchor" href="#_1-分享根文件夹目录id" aria-label="Permalink to &quot;1. 分享根文件夹目录ID {lang=&quot;zh-CN&quot;}&quot;">​</a></h4><div lang="en"><p>Open developer mode (F12) and clear all requests first. Before we enter the folder, clear all requests first.</p><p>Let’s click on the root folder to enter. There will be a new request on the right, and then select <code>Load</code> to see the ID (cid) of our folder.</p><figure><img src="/OpenList-Docs/img/drivers/115/115-root_cid.png" alt="url_demo" loading="lazy" decoding="async"></figure></div><div lang="zh-CN"><p>打开开发者模式(F12)先将请求全部清空，我们进入文件夹，先将全部请求清空，</p><p>我们再点击根文件夹进入，右侧会有一个新的请求，然后选择<code>载荷</code>就能看到我们的这个文件夹的ID (cid)</p><figure><img src="/OpenList-Docs/img/drivers/115/115-root_cid.png" alt="url_demo" loading="lazy" decoding="async"></figure></div><h4 lang="en" id="_2-other-subfolder-directory-id" tabindex="-1">2. other subfolder directory ID <a class="header-anchor" href="#_2-other-subfolder-directory-id" aria-label="Permalink to &quot;2. other subfolder directory ID { lang=&quot;en&quot; }&quot;">​</a></h4><h4 lang="zh-CN" id="_2-其它子文件夹目录id" tabindex="-1">2. 其它子文件夹目录ID <a class="header-anchor" href="#_2-其它子文件夹目录id" aria-label="Permalink to &quot;2. 其它子文件夹目录ID { lang=&quot;zh-CN&quot; }&quot;">​</a></h4><div lang="zh-CN"><p>打开开发者模式(F12)先将请求全部清空，我们进入文件夹，先将全部请求清空，</p><p>右侧会有一个新的请求，然后选择<code>预览</code> 然后进行展开查看，就可以看到其它子文件夹的ID (cid)</p><figure><img src="/OpenList-Docs/img/drivers/115/115-file_cid.png" alt="url_demo" loading="lazy" decoding="async"></figure></div><div lang="en"><p>Open developer mode (F12) and clear all requests first. Before we enter the folder, clear all requests first.</p><p>There will be a new request on the right, then select <code>Preview</code> and expand it to see the IDs (cid) of other subfolders.</p><figure><img src="/OpenList-Docs/img/drivers/115/115-file_cid.png" alt="url_demo" loading="lazy" decoding="async"></figure></div><h3 lang="zh-CN" id="错误提示" tabindex="-1">错误提示 <a class="header-anchor" href="#错误提示" aria-label="Permalink to &quot;错误提示 { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><h3 lang="en" id="error-tips" tabindex="-1">Error Tips <a class="header-anchor" href="#error-tips" aria-label="Permalink to &quot;Error Tips { lang=&quot;en&quot; }&quot;">​</a></h3><div lang="en"><p>For example, the 115 sharing link shown in the picture below has expired, but the sharing link can still be opened.</p><figure><img src="/OpenList-Docs/img/drivers/115/115-add_error.png" alt="url_demo" loading="lazy" decoding="async"></figure><p>But when adding and saving, the following error code will appear:</p><p><code>Failed init storage but storage is already created: failed init storage: failed to get share snap: json: cannot unmarshal number into Go struct field .data.shareinfo.share_state of type string</code></p></div><div lang="zh-CN"><p>例如下图所示的115分享链接分享过期，但是分享链接还能打开</p><figure><img src="/OpenList-Docs/img/drivers/115/115-add_error.png" alt="url_demo" loading="lazy" decoding="async"></figure><p>但是在添加保存时候会出现如下错误码：</p><p><code>Failed init storage but storage is already created: failed init storage: failed to get share snap: json: cannot unmarshal number into Go struct field .data.shareinfo.share_state of type string</code></p></div><h3 lang="zh-CN" id="默认使用的下载方式-1" tabindex="-1">默认使用的下载方式 <a class="header-anchor" href="#默认使用的下载方式-1" aria-label="Permalink to &quot;默认使用的下载方式 { lang=&quot;zh-CN&quot; }&quot;">​</a></h3><h3 lang="en" id="the-default-download-method-used-1" tabindex="-1">The default download method used <a class="header-anchor" href="#the-default-download-method-used-1" aria-label="Permalink to &quot;The default download method used { lang=&quot;en&quot; }&quot;">​</a></h3><div lang="en"><div class="mermaid"></div></div><div lang="zh-CN"><div class="mermaid"></div></div><!--]--><!--[--><!--[--><div class="prose mx-auto w-full max-w-4xl" data-v-e8057d2d><h2 data-v-e8057d2d><span data-v-e8057d2d>Contributors</span></h2><ul class="va-git-log-contributor" flex="~ wrap gap-2" pt-2 data-v-e8057d2d data-v-eaebaeab><!--[--><!--]--></ul><div class="comments-container" data-v-e8057d2d><!----></div></div><!--]--><!--]--><!--]--><!----><!----></article><!--[--><!--]--><div flex justify="between" text="sm" class="pb-8 max-w-4xl" w="full" m="auto" data-v-b457700c><a flex items="center" class="decoration-none!" href="https://github.com/OpenListTeam/OpenList-Docs/edit/main/pages/guide/drivers/115.md" target="_blank"><div i-ri-external-link-line></div><span ml-1>Edit this page on GitHub</span></a><p class="press-lastUpdated text-right" data-v-92db0407>Last updated: <time datetime="2025-07-30T14:29:07.000Z" data-v-92db0407></time></p></div><!--]--></div><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--]--><!--[--><!--[--><button class="toc-btn shadow-lg fixed press-icon-btn z-99 lt-md:hidden! xl:hidden!" right="5" bottom="24"><div i-ri-file-list-line></div></button><!----><aside flex="~ col grow" p="l-0 xl:l-8" text="center" z="$" class="press-aside lt-xl:fixed shadow xl:shadow-none xl:hover:shadow-none hover:shadow-lg"><div class="aside-curtain"></div><div class="aside-container lt-xl:fixed" flex="~ col"><div class="aside-content overflow-auto" flex="~ col"><div style="display:none" data-v-b3b664e2><div class="content" data-v-b3b664e2><div class="outline-title" data-v-b3b664e2>On this page</div><div class="outline-marker" data-v-b3b664e2></div><nav aria-labelledby="doc-outline-aria-label" data-v-b3b664e2><span id="doc-outline-aria-label" class="visually-hidden" data-v-b3b664e2>Table of Contents for current page</span><ul class="root va-toc css-i18n-toc va-toc relative z-1 css-i18n-toc" data-v-b3b664e2 data-v-e1d3fac6><!--[--><!--]--></ul></nav></div></div><div class="flex-grow"></div><!----></div></div></aside><!--]--><!--]--></div></div></main><button style="display:none" class="back-to-top-btn" aria-label="Back to Top" title="Back to Top" data-v-e8057d2d data-v-ef99e711><div class="i-ri-arrow-up-line" data-v-ef99e711></div></button><!--]--><footer class="press-footer has-sidebar" data-v-3467cded><div flex="~ col" class="container" data-v-3467cded><p class="message" data-v-3467cded>Built at 2025/8/6 05:17:45</p><p class="copyright" data-v-3467cded>AGPL-3.0 Licensed | © 2022-2025 <a href="https://github.com/OpenListTeam" target="_blank">The OpenList Projects Contributors</a></p></div></footer></div><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{"app":{"showLoading":true},"routerStore":{},"press-app":{}}}'</script><script type="application/ld+json" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://dezhishen.github.io/#identity","@type":"Person","name":"VALAXY Developer","url":"https://dezhishen.github.io/","image":{"@id":"https://dezhishen.github.io/#/schema/image/6b28583"},"sameAs":[]},{"@id":"https://dezhishen.github.io/#website","@type":"WebSite","dateModified":"2025-08-06T05:17:31.212Z","datePublished":"2025-08-06T05:17:31.212Z","inLanguage":"en","name":"115 Cloud / Share","url":"https://dezhishen.github.io/","publisher":{"@id":"https://dezhishen.github.io/#identity"}},{"@id":"https://dezhishen.github.io/#webpage","@type":"WebPage","description":"Docs site for OpenList","name":"115 Cloud / Share","url":"https://dezhishen.github.io/","about":{"@id":"https://dezhishen.github.io/#identity"},"isPartOf":{"@id":"https://dezhishen.github.io/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://dezhishen.github.io/"]}]},{"@id":"https://dezhishen.github.io/#/schema/image/6b28583","@type":"ImageObject","contentUrl":"https://valaxy.site/valaxy-logo.png","inLanguage":"en","url":"https://valaxy.site/valaxy-logo.png"}]}</script></body></html>